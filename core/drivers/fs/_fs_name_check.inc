;-----------------------------------------------------------------------------------------------------------------------
;Файл распространяется под лицензией GPL-3.0-or-later, https://www.gnu.org/licenses/gpl-3.0.txt
;-----------------------------------------------------------------------------------------------------------------------
;29.04.2021	w5277c@gmail.com			Начало
;-----------------------------------------------------------------------------------------------------------------------
.ifdef DEF_DRIVER_FS_NAME_CHECK
.else
.set DEF_DRIVER_FS_NAME_CHECK = 1

.include	"./str/str_len.inc"

;--------------------------------------------------------
_DRV_FS_NAME_CHECK:
;--------------------------------------------------------
;Создаем директорию
;IN: Y-адрес на название
;OUT: TEMP-длина строки,FLAGS-результат DRV_FS_RESULT_...
;--------------------------------------------------------
	;Проверка имени
	LDI FLAGS,DRV_FS_RESULT_INVALID_NAME
	MCALL STR_LEN
	CPI TEMP,0x00
	BREQ _DRV_FS_NAME_CHECK__END
	CPI TEMP,DRV_FS_NAME_SIZE+0x01
	BRCC _DRV_FS_NAME_CHECK__END
	LDI FLAGS,DRV_FS_RESULT_OK

	RET
.endif
