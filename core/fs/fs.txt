Просто размышления

Два основных зеркальных блока по 32К хранящие каталог (могут быть расширены в виде индекса следующего блока)
Начиная с 64К идут данные записываемые поблочно(посекторно)

Т.е. с 0К и 32К идет каталог файлов.

Имени файла нет, есть уникальный идентифкатор (0x0010-0xffff).
И комментарий, пишется в однобайтовой кодировке (KOI-8?), максимальная длина 0-16 байт.
Все значения не фиксированной длины не могут превышать размер в 255, который записывается первым байтом.
Запрещено использовать в комментарии символ '/', является разделителем.
Предположительно файл будет выглядеть так /04fe-логи/04ff-лог_ядра.txt.
Где обязательная часть /xxxx - уникальный идетификатор файла или каталога, остальное может быть опущено.
Т.е. /04fe-логи/04ff-лог_ядра.txt = /0x04fe/0x04ff
Уникальный идентфикатор корня - /0000
Регистр значения не имеет.

Структура элемента каталога:
2Б - уникальный идентифкатор каталога в котором лежит данный файл/каталог
2Б - уникальный идентифкатор файла/каталога
1Б - тип и опции файла/каталога
1Б - зарезервировано (по умолчанию 0xc5)
3Б - номер первого блока
3Б - длина в блоках
2Б - длина в последнем блоке
4Б - временная метка создания
4Б - временная метка изменения
1Б - длина комментария
0-16Б - комментарий
Максимальная длина записи - 21-37Б

В каждом используемом блоке последние 8 байт служебные:
0-2 - номер следующего блока
3-4 - смещение внутри блока для записи по кругу (0xffff - не текущий)
5   - не используется
6-7 - контрольная сумма блока - 2 байта


Идентфикаторы файлов можно перегруппировать, также как и блоки, также как и каталог, после дефрагментации.

Типы файлов, опции (биты):
0 - каталог или обычный файл
1 - циклический файл(запись покругу)
2 - удаленный
3 - битый блок
4 - скрытый
5 - с контрольной суммой
6 - выполнен цикл в циклическом файле
7 - свободное место (часть блоков ранее удаленного файла)

Корневой элемент каталога:
2Б - уникальный идентифкатор каталога в котором лежит данный файл/каталог = 0x0000
2Б - уникальный идентифкатор файла/каталога = 0x0000
1Б - тип и опции файла/каталога = 0x30
1Б - зарезервировано (по умолчанию 0xc5) = 0xc5
3Б - номер первого блока = 0x00080 (при размере блока в 512)
3Б - длина диска в блоках = 0xXXXXXX
2Б - размер блока = 0x0200
4Б - временная метка создания
4Б - не используется
1Б - длина названия диска
0-16Б - название диска
Максимальная длина записи - 21-37Б


Конец каталога:
2Б - уникальный идентифкатор каталога в котором лежит данный файл/каталог = 0x0001
...

